{"version":3,"file":"js/381.74081ca9.js","mappings":"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","sources":["webpack://vue/./src/views/Login.vue","webpack://vue/src/views/Login.vue","webpack://vue/./src/views/Login.vue?24ab","webpack://vue/./src/views/Login.vue?9f01"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"MainBackground\"},[_c('div',{staticStyle:{\"padding-top\":\"0px\",\"flex-grow\":\"2\"}}),_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"300px\",\"height\":\"300px\",\"background-color\":\"rgba(77,90,217,0.57)\",\"padding\":\"10px\",\"margin\":\"0 auto\",\"top\":\"20%\",\"border-radius\":\"5px\"}},[_vm._m(0),_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.user,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"size\":\"medium\",\"prefix-icon\":\"el-icon-user\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"size\":\"medium\",\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{staticStyle:{\"margin\":\"10px 0\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"autocomplete\":\"off\"},on:{\"click\":function($event){_vm.registerFormVisible = true}}},[_vm._v(\"注册 \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"autocomplete\":\"off\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"注册新的普通用户\",\"visible\":_vm.registerFormVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.registerFormVisible=$event}}},[_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerFormRules}},[_c('el-form-item',{attrs:{\"label\":\"新用户名\",\"prop\":\"newUserName\",\"label-width\":_vm.formLabelWidth,\"required\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.registerForm.newUserName),callback:function ($$v) {_vm.$set(_vm.registerForm, \"newUserName\", $$v)},expression:\"registerForm.newUserName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户密码\",\"prop\":\"newPassword\",\"label-width\":_vm.formLabelWidth,\"required\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"show-password\":\"\"},model:{value:(_vm.registerForm.newPassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"newPassword\", $$v)},expression:\"registerForm.newPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"重复密码\",\"prop\":\"newPasswordAgainst\",\"label-width\":_vm.formLabelWidth,\"required\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"show-password\":\"\"},model:{value:(_vm.registerForm.newPasswordAgainst),callback:function ($$v) {_vm.$set(_vm.registerForm, \"newPasswordAgainst\", $$v)},expression:\"registerForm.newPasswordAgainst\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.registerFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"margin\":\"10px\",\"text-align\":\"center\",\"font-size\":\"24px\",\"position\":\"relative\"}},[_c('b',{staticStyle:{\"font-size\":\"25px\",\"color\":\"white\"}},[_vm._v(\"边缘开设系统\")]),_c('br'),_c('b',{staticStyle:{\"font-size\":\"20px\",\"color\":\"white\"}},[_vm._v(\"应用市场固定云控制台\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MainBackground\">\r\n\r\n    <div style=\"padding-top: 0px;flex-grow: 2\">\r\n    </div>\r\n\r\n    <div style=\"position: relative;\r\n    width: 300px;\r\n    height:300px;\r\n    background-color: rgba(77,90,217,0.57);\r\n    padding: 10px;\r\n    margin: 0 auto;\r\n    top: 20%;\r\n    border-radius: 5px\"\r\n    >\r\n      <div style=\"margin: 10px ; text-align: center; font-size: 24px;position: relative;\">\r\n        <b style=\"font-size: 25px;color: white\">边缘开设系统</b><br>\r\n        <b style=\"font-size: 20px;color: white\">应用市场固定云控制台</b>\r\n      </div>\r\n\r\n      <el-form :model=\"user\" :rules=\"rules\" ref=\"userForm\">\r\n        <el-form-item prop=\"username\">\r\n          <el-input size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-user\" v-model=\"user.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input size=\"medium\" style=\"margin: 10px 0\" prefix-icon=\"el-icon-lock\" show-password\r\n                    v-model=\"user.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin: 10px 0; text-align: right\">\r\n          <el-button type=\"warning\" size=\"small\" autocomplete=\"off\" @click=\"registerFormVisible = true\">注册\r\n          </el-button>\r\n          <el-button type=\"primary\" size=\"small\" autocomplete=\"off\" @click=\"login\">登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-dialog title=\"注册新的普通用户\" :visible.sync=\"registerFormVisible\" width=\"500px\">\r\n      <el-form :model=\"registerForm\" :rules=\"registerFormRules\" ref=\"registerForm\">\r\n        <el-form-item label=\"新用户名\" prop=\"newUserName\" :label-width=\"formLabelWidth\" required>\r\n          <el-input v-model=\"registerForm.newUserName\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户密码\" prop=\"newPassword\" :label-width=\"formLabelWidth\" required>\r\n          <el-input v-model=\"registerForm.newPassword\" autocomplete=\"off\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"重复密码\" prop=\"newPasswordAgainst\" :label-width=\"formLabelWidth\" required>\r\n          <el-input v-model=\"registerForm.newPasswordAgainst\" autocomplete=\"off\" show-password></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"registerFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"register\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store/index.js';\r\nimport '../css/myCss.css'\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n\r\n\r\n\r\n\r\n\r\n    // 正则表达式，必须是大小写字母或者数字\r\n    let validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('必填项，不可为空'));\r\n      } else {\r\n        // // 字母\r\n        // let alphabet = value.match(/([A-Za-z]+)/)\r\n        // // 数字符号\r\n        // let number = value.match(/([\\d]+)/)\r\n        // // 特殊字符（英文符号）\r\n        // let special = value.match(/[`~!@#\\\\$%\\\\^&\\\\*\\\\(\\\\)\\-_=\\\\+\\\\{\\\\}\\\\[\\]\\\\|\\\\;':\"\\\\,\\\\.<>\\\\/\\\\?]+/)\r\n        let alphabet = value.match(/(^[A-Za-z0-9]+$)/);\r\n        if (alphabet) {\r\n          callback();\r\n        } else {\r\n          callback(new Error('只允许使用英文字母和数据'));\r\n        }\r\n      }\r\n    };\r\n\r\n    // 检查两次密码是否相同\r\n    let validatePasswordAgainst = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'));\r\n      } else if (value !== this.registerForm.newPassword) {\r\n        callback(new Error('两次输入密码不一致!'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n\r\n\r\n      note: {\r\n        backgroundImage: \"url(\" + require(\"../assets/loginPic.png\") + \")\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"100%\",\r\n        marginTop: \"0px\",\r\n        height: \"100%\",\r\n      },\r\n\r\n\r\n      user: {},\r\n      rules: {\r\n        username: [\r\n          {required: true, message: '请输入用户名', trigger: 'blur'},\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n        ],\r\n        password: [\r\n          {required: true, message: '请输入密码', trigger: 'blur'},\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n        ],\r\n      },\r\n      registerFormVisible: false,\r\n      registerForm: {\r\n        newUserName: '',\r\n        newPassword: '',\r\n        newPasswordAgainst: '',\r\n      },\r\n      formLabelWidth: '120px',\r\n      // 注册表单校验规则绑定\r\n      registerFormRules: {\r\n        newUserName: [\r\n          {required: true, message: '请输入用户名', trigger: 'blur'},\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n        ],\r\n        newPassword: [\r\n          {required: true, message: '请输入密码', trigger: 'blur'},\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n        ],\r\n        newPasswordAgainst: [\r\n          {required: true, message: '请重复输入密码', trigger: 'blur'},\r\n          {validator: validatePass, trigger: 'blur'},\r\n          {validator:validatePasswordAgainst, trigger: 'blur'},\r\n          {min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur'}\r\n        ]\r\n      },\r\n\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    checkForm(formName) {\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs[formName].validate(valid => {\r\n          if (valid) {\r\n            resolve();\r\n          } else reject();\r\n        });\r\n      });\r\n    },\r\n    register() {\r\n      let formList = [];\r\n      formList.push(this.checkForm(\"registerForm\"))\r\n      Promise.all(formList).then(() => {\r\n        this.request.post(\"/user/register\",{\r\n          params: {\r\n            registerForm: this.registerForm,\r\n          }\r\n        }).then(res=> {\r\n          if (res.code === '200'){\r\n            this.$message.success(\"注册成功，现在可以登录了\");\r\n            // 清空这个对话框,因为双向绑定，这里不清楚，下次注册会残留\r\n            this.registerFormVisible = false;\r\n            this.registerForm.newUserName = '';\r\n            this.registerForm.newPassword = '';\r\n            this.registerForm.newPasswordAgainst = '';\r\n          }else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        })\r\n      }).catch( () => {\r\n        this.$message.error(\"注册失败，存在同名用户\")\r\n      })\r\n    },\r\n\r\n    login() {\r\n      this.$refs['userForm'].validate((valid) => {\r\n        if (valid) {  // 表单校验合法\r\n          this.request.post(\"/user/login\", this.user).then(res => {\r\n            if (res.code !== \"200\") {\r\n              this.$message.error(\"用户名或密码错误\")\r\n            } else if (res.code === \"200\") {\r\n              //存储用户信息到浏览器，用于右上角显示登录用户信息\r\n              // localStorage.setItem(\"user\",JSON.stringify(res.data))\r\n              // window.sessionStorage.setItem('userAccount', res.data.username);\r\n              // window.sessionStorage.setItem('userRole',res.data.role);\r\n              // 2022年10月5日 时间，由session改用Vuex存储状态\r\n              // this.$store.commit('setUserName',res.data.username);\r\n              // this.$store.commit('setRole',res.data.role);\r\n              // 2022年10月10日 11点32分 Vue中的数据在页面刷新后会消失，应该使用vue-session组件实现用户信息存储\r\n              // this.$session.set(\"userName\",res.data.username);\r\n              // this.$session.set(\"userRole\",res.data.role);\r\n              window.sessionStorage.setItem('userAccount', res.data.username);\r\n              window.sessionStorage.setItem('userRole',res.data.role);\r\n              this.$router.push(\"/home\")\r\n              this.$message.success(\"登录成功，身份：\" + res.data.username + \" 权限：\" + res.data.role)\r\n\r\n\r\n              // 2022年10月10日 18点37分； 登录成功去读一下侧边栏那个数字\r\n              this.getPendingReviewPackageAsideNumber();\r\n              this.getPublishedPackageAsideNumber();\r\n              this.getRemovedPackageAsideNumber();\r\n            }\r\n            // if (res.code === '200') {\r\n            //   localStorage.setItem(\"user\", JSON.stringify(res.data))  // 存储用户信息到浏览器\r\n            //   localStorage.setItem(\"menus\", JSON.stringify(res.data.menus))  // 存储用户信息到浏览器\r\n            //   // 动态设置当前用户的路由\r\n            //\r\n            //   this.$message.success(\"登录成功\")\r\n            //\r\n            //   if (res.data.role === 'ROLE_STUDENT') {\r\n            //     this.$router.push(\"/front/home\")\r\n            //   } else {\r\n            //     this.$router.push(\"/\")\r\n            //   }\r\n            // } else {\r\n            //   this.$message.error(res.msg)\r\n            // }\r\n          })\r\n        }\r\n      });\r\n    },\r\n    // 读取侧边栏数据\r\n    getPendingReviewPackageAsideNumber() {\r\n      this.request.get(\"/pendingReviewPackage/getPendingPackageAsideNumber\").then(res => {\r\n        this.$store.commit('setPendingPackageNumber', res.data);\r\n      })\r\n    },\r\n    getPublishedPackageAsideNumber() {\r\n      this.request.get(\"/publishedPackage/getPublishedPackageAsideNumber\").then(res => {\r\n        this.$store.commit('setPublishedPackageNumber', res.data);\r\n      })\r\n    },\r\n    getRemovedPackageAsideNumber() {\r\n      this.request.get(\"/removedPackage/getRemovedPackageAsideNumber\").then(res => {\r\n        this.$store.commit('setRemovedPackageNumber', res.data);\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.login-bg {\r\n  width: 100%;\r\n  height: 100%;\r\n  /*background: #66b1ff;*/\r\n  background: linear-gradient(to bottom right, #66b1ff, #42b983);\r\n  position: absolute;\r\n}\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7d1c1159&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7d1c1159&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_m","ref","attrs","user","rules","model","value","username","callback","$$v","$set","expression","password","on","$event","registerFormVisible","_v","login","registerForm","registerFormRules","formLabelWidth","newUserName","newPassword","newPasswordAgainst","slot","register","staticRenderFns","name","data","note","backgroundImage","backgroundRepeat","backgroundSize","marginTop","height","required","message","trigger","validator","min","max","methods","checkForm","resolve","reject","formList","Promise","params","then","res","catch","window","getPendingReviewPackageAsideNumber","getPublishedPackageAsideNumber","getRemovedPackageAsideNumber","component"],"sourceRoot":""}